/* =============================
   FAQ Component — Ultra Minimalist + Stylish | Компонент FAQ — Ультра минималистичный + Стильный
   EN: Simple animated accordion with smooth transitions and site-wide styling
   RU: Простой анимированный аккордеон с плавными переходами и стилизацией сайта
   ============================= */

/* ===== FAQ Section Wrapper | Обёртка секции FAQ ===== */
.faq { 
  position: relative; 
  overflow: hidden; 
}

/* Subtle gradient background | Тонкий градиентный фон */
.faq::before { 
  content: ""; 
  position: absolute; 
  inset: 0; 
  background: radial-gradient(
    circle at 20% 30%, 
    rgba(var(--primary-rgb), 0.04), 
    transparent 50%
  ), 
  radial-gradient(
    circle at 80% 70%, 
    rgba(var(--accent-rgb), 0.03), 
    transparent 50%
  ); 
  pointer-events: none; 
  z-index: 0; 
}

.faq > .container { 
  position: relative; 
  z-index: 1; 
}

/* ===== Hide complex controls | Скрываем сложные элементы управления ===== */
.faq-controls,
.faq-search-wrap,
.faq-filters,
.faq-bulk,
.faq-progress { 
  display: none; 
}


/* ===== FAQ Groups | Группы FAQ ===== */
.faq-group { 
  margin: 0; 
  display: grid; 
  gap: 0; 
}

.faq-group-title { 
  display: none; /* Hide group titles | Скрываем заголовки групп */
}

/* ===== FAQ Items | Элементы FAQ ===== */
.faq-list { 
  display: grid; 
  gap: 0; 
  position: relative; 
}

/* Decorative gradient line | Декоративная градиентная линия */
.faq-list::before { 
  content: ""; 
  position: absolute; 
  left: 0; 
  top: 0; 
  bottom: 0; 
  width: 2px; 
  background: linear-gradient(
    180deg, 
    transparent, 
    rgba(var(--primary-rgb), 0.3) 20%, 
    rgba(var(--primary-rgb), 0.3) 80%, 
    transparent
  ); 
  opacity: 0; 
  transition: opacity var(--trans-fast); 
}

.faq-list:hover::before { 
  opacity: 1; 
}

.faq-item { 
  background: transparent; 
  padding: 0 0 0 1.5rem; 
  border: none;
  border-bottom: 1px solid rgba(var(--ink-rgb), 0.05); 
  position: relative; 
  overflow: visible; 
  transition: background 0.4s ease, 
              border-color 0.4s ease,
              transform 0.3s var(--ease-spring); 
}

/* Hover glow effect | Эффект свечения при наведении */
.faq-item::before { 
  content: ""; 
  position: absolute; 
  left: 0; 
  top: 50%; 
  transform: translateY(-50%); 
  width: 100%; 
  height: 0%; 
  background: radial-gradient(
    ellipse at center, 
    rgba(var(--primary-rgb), 0.12), 
    transparent 70%
  ); 
  opacity: 0; 
  transition: height 0.5s var(--ease-spring),
              opacity 0.4s ease; 
  pointer-events: none; 
  z-index: 0; 
}

.faq-item:hover::before { 
  height: 120%; 
  opacity: 1; 
}

.faq-item:last-child {
  border-bottom: none;
}

.faq-item:hover { 
  background: rgba(var(--primary-rgb), 0.04); 
  transform: translateX(2px); 
}

.faq-item.open { 
  background: rgba(var(--primary-rgb), 0.06); 
  border-bottom-color: rgba(var(--primary-rgb), 0.15); 
}

/* Accent dot indicator | Индикатор акцентной точки */
.faq-item.open::after { 
  content: ""; 
  position: absolute; 
  left: 0; 
  top: 1.8rem; 
  width: 6px; 
  height: 6px; 
  background: var(--primary); 
  border-radius: 50%; 
  box-shadow: 0 0 12px rgba(var(--primary-rgb), 0.6); 
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; 
}

@keyframes pulse { 
  0%, 100% { 
    opacity: 1; 
    transform: scale(1); 
  } 
  50% { 
    opacity: 0.6; 
    transform: scale(1.3); 
  } 
}

.faq-item.open .faq-trigger-text { 
  color: var(--primary); 
  font-weight: 600;
  text-shadow: 0 0 20px rgba(var(--primary-rgb), 0.3);
}

.faq-item.open .faq-icon { 
  background: linear-gradient(135deg, var(--primary), var(--accent)); 
  transform: rotate(45deg); 
  box-shadow: 0 4px 12px rgba(var(--primary-rgb), 0.4), 
              0 0 20px rgba(var(--primary-rgb), 0.2); 
}

.faq-item.open .faq-icon::before,
.faq-item.open .faq-icon::after {
  background: #fff;
}

/* Hidden when filtered | Скрыт при фильтрации */
.faq-item.filter-hide { 
  display: none !important; 
}

/* Search highlight | Подсветка поиска */
.faq-highlight mark { 
  background: linear-gradient(135deg, var(--primary), var(--accent)); 
  color: #fff; 
  padding: 2px 6px; 
  border-radius: var(--radius-xs); 
  font-weight: 600; 
  box-shadow: 0 2px 8px rgba(var(--primary-rgb), 0.4); 
}

[data-theme="light"] .faq-item { 
  border-bottom-color: rgba(0, 0, 0, 0.06);
}

[data-theme="light"] .faq-item:hover { 
  background: rgba(var(--primary-rgb), 0.03); 
}

[data-theme="light"] .faq-item.open { 
  background: rgba(var(--primary-rgb), 0.06); 
  border-bottom-color: rgba(var(--primary-rgb), 0.2); 
}


/* ===== FAQ Trigger Button | Кнопка-триггер ===== */
.faq-trigger { 
  all: unset; 
  box-sizing: border-box; 
  cursor: pointer; 
  display: flex;
  align-items: center; 
  justify-content: space-between;
  gap: 2rem; 
  width: 100%; 
  padding: 1.5rem 0; 
  text-align: left; 
  position: relative; 
  font-family: var(--font-display); 
  font-size: 1.05rem; 
  line-height: 1.4; 
  color: var(--ink); 
  font-weight: 500; 
  transition: all var(--trans-fast); 
  z-index: 1; 
}

.faq-trigger:hover { 
  color: var(--primary); 
}

.faq-item.open .faq-trigger { 
  padding-bottom: 1rem; 
  color: var(--primary);
}

.faq-trigger:focus-visible { 
  outline: 2px solid var(--primary); 
  outline-offset: 6px; 
  border-radius: var(--radius-xs); 
}

.faq-trigger-text { 
  display: block; 
  flex: 1;
  font-weight: 500; 
  color: inherit; 
  transition: color 0.3s ease,
              font-weight 0.3s ease; 
  letter-spacing: -0.01em; 
}

.faq-item:hover .faq-trigger-text { 
  color: var(--primary); 
}

.faq-item.open .faq-trigger-text { 
  color: var(--primary); 
  font-weight: 600;
}

/* ===== FAQ Icon (Plus/X) | Иконка FAQ (плюс/X) ===== */
.faq-icon { 
  --sz: 28px; 
  position: relative; 
  width: var(--sz); 
  height: var(--sz); 
  flex: 0 0 var(--sz); 
  border-radius: 50%; 
  background: rgba(var(--ink-rgb), 0.06); 
  display: grid; 
  place-items: center; 
  transition: all 0.5s var(--ease-spring); 
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); 
}

.faq-item:hover .faq-icon { 
  background: rgba(var(--primary-rgb), 0.15); 
  transform: scale(1.1); 
  box-shadow: 0 4px 12px rgba(var(--primary-rgb), 0.2); 
}

/* Plus/X lines | Линии плюса/X */
.faq-icon::before, 
.faq-icon::after { 
  content: ""; 
  position: absolute; 
  background: var(--ink-soft); 
  border-radius: 2px; 
  transition: all 0.5s var(--ease-spring); 
}

.faq-icon::before { 
  width: 12px; 
  height: 2.5px; 
  transform: translate(-50%, -50%); 
  top: 50%; 
  left: 50%; 
}

.faq-icon::after { 
  width: 2.5px; 
  height: 12px; 
  top: 50%; 
  left: 50%; 
  transform: translate(-50%, -50%); 
}

/* Glow effect on hover | Эффект свечения при наведении */
.faq-item:hover .faq-icon::before,
.faq-item:hover .faq-icon::after { 
  background: var(--primary); 
  box-shadow: 0 0 8px rgba(var(--primary-rgb), 0.6); 
}

/* Transform to X when open | Трансформация в X при открытии */
.faq-item.open .faq-icon::after { 
  transform: translate(-50%, -50%) rotate(0deg); 
}


/* ===== FAQ Panel (Answer) | Панель FAQ (ответ) ===== */
.faq-panel { 
  --panel-max: 0px; 
  height: auto; 
  max-height: 0; 
  overflow: hidden; 
  transition: max-height 0.6s var(--ease-spring), 
              opacity 0.5s ease,
              transform 0.5s var(--ease-spring); 
  opacity: 0; 
  transform: translateY(-12px);
  position: relative; 
  z-index: 1; 
}

.faq-item.open .faq-panel { 
  opacity: 1; 
  transform: translateY(0);
  max-height: var(--panel-max); 
}

.faq-panel-inner { 
  padding: 0 0 1.8rem 0; 
  font-size: 0.98rem; 
  line-height: 1.8; 
  color: var(--ink-soft); 
  position: relative; 
}

/* Decorative quote mark | Декоративная кавычка */
.faq-panel-inner::before { 
  content: ""; 
  position: absolute; 
  left: -1rem; 
  top: 0; 
  width: 3px; 
  height: 100%; 
  background: linear-gradient(
    180deg, 
    var(--primary), 
    transparent
  ); 
  border-radius: 2px; 
  opacity: 0; 
  transition: opacity 0.4s ease 0.2s; 
}

.faq-item.open .faq-panel-inner::before { 
  opacity: 0.6; 
}

.faq-panel-inner p { 
  margin: 0.4rem 0 0; 
  opacity: 0; 
  transform: translateY(8px); 
  transition: all 0.5s var(--ease-spring); 
}

.faq-item.open .faq-panel-inner p { 
  opacity: 1; 
  transform: translateY(0); 
  transition-delay: 0.1s; 
}

/* Subtle glow on text | Тонкое свечение текста */
.faq-item.open .faq-panel-inner { 
  text-shadow: 0 0 30px rgba(var(--primary-rgb), 0.1); 
}

/* Disable transitions for reduced motion | Отключить переходы для уменьшенной анимации */
@media (prefers-reduced-motion: reduce) { 
  .faq-panel, 
  .faq-icon, 
  .faq-icon::before, 
  .faq-icon::after,
  .faq-trigger,
  .faq-trigger-text,
  .faq-panel-inner p,
  .faq-item::before,
  .faq-item::after { 
    transition: none; 
    animation: none; 
  } 
}

[data-theme="light"] .faq-trigger { 
  color: var(--ink); 
}

[data-theme="light"] .faq-trigger-text { 
  color: var(--ink); 
}

[data-theme="light"] .faq-item.open .faq-trigger,
[data-theme="light"] .faq-item.open .faq-trigger-text { 
  color: var(--primary); 
}

[data-theme="light"] .faq-panel-inner { 
  color: var(--ink-soft); 
}

/* Mobile optimization | Оптимизация для мобильных */
@media (max-width: 768px) {
  .faq-item {
    padding-left: 1rem;
  }
  
  .faq-item:hover,
  .faq-item.open {
    padding-left: 1.2rem;
  }
  
  .faq-trigger {
    font-size: 0.98rem;
    padding: 1.3rem 0;
    gap: 1.5rem;
  }
  
  .faq-icon {
    --sz: 24px;
  }
  
  .faq-icon::before {
    width: 10px;
    height: 2px;
  }
  
  .faq-icon::after {
    width: 2px;
    height: 10px;
  }
  
  .faq-panel-inner {
    font-size: 0.92rem;
    padding-bottom: 1.4rem;
  }
  
  .faq-list::before {
    display: none;
  }
}

/* Tablet optimization | Оптимизация для планшетов */
@media (min-width: 769px) and (max-width: 1024px) {
  .faq-trigger {
    font-size: 1.02rem;
  }
  
  .faq-icon {
    --sz: 26px;
  }
}

/* Stagger animation for FAQ items on load | Каскадная анимация FAQ при загрузке */
@keyframes faqFadeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.faq-item {
  animation: faqFadeIn 0.6s var(--ease-spring) backwards;
}

.faq-item:nth-child(1) { animation-delay: calc(var(--stagger-step) * 0); }
.faq-item:nth-child(2) { animation-delay: calc(var(--stagger-step) * 1); }
.faq-item:nth-child(3) { animation-delay: calc(var(--stagger-step) * 2); }
.faq-item:nth-child(4) { animation-delay: calc(var(--stagger-step) * 3); }
.faq-item:nth-child(5) { animation-delay: calc(var(--stagger-step) * 4); }
.faq-item:nth-child(6) { animation-delay: calc(var(--stagger-step) * 5); }

@media (prefers-reduced-motion: reduce) {
  .faq-item {
    animation: none;
  }
}

