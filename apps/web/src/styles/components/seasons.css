/* ===== Seasonal Themes ===== */
/* Automatically applied based on data-season attribute on <html> */

/* ===== Intensity Levels ===== */
/* 0 = off, 1 = light, 2 = medium, 3 = strong, 4 = maximum */
:root {
  --season-intensity: 0.5; /* Default medium */
}

[data-intensity='0'] {
  --season-intensity: 0;
}
[data-intensity='1'] {
  --season-intensity: 0.25;
}
[data-intensity='2'] {
  --season-intensity: 0.5;
}
[data-intensity='3'] {
  --season-intensity: 0.75;
}
[data-intensity='4'] {
  --season-intensity: 1;
}

/* Hide effects when intensity is 0 */
[data-intensity='0'] .hero::before,
[data-intensity='0'] .hero::after,
[data-intensity='0'] .hero__title::after,
[data-intensity='0'] .hero-title--large::after,
[data-intensity='0'] .site-footer::before,
[data-intensity='0'] .season-particles {
  display: none !important;
}

/* ===== Winter Theme ‚ùÑÔ∏è ===== */
[data-season='winter'] {
  --season-accent: #7dd3fc;
  --season-accent-rgb: 125, 211, 252;
  --season-glow: rgba(125, 211, 252, calc(0.3 * var(--season-intensity) * 2));
}

/* Snowfall effect */
[data-season='winter'] .hero::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image:
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='10' cy='10' r='2' fill='white'/%3E%3Ccircle cx='30' cy='40' r='1.5' fill='white'/%3E%3Ccircle cx='60' cy='20' r='2' fill='white'/%3E%3Ccircle cx='80' cy='60' r='1' fill='white'/%3E%3Ccircle cx='20' cy='80' r='1.5' fill='white'/%3E%3Ccircle cx='90' cy='30' r='2' fill='white'/%3E%3Ccircle cx='50' cy='70' r='1' fill='white'/%3E%3Ccircle cx='70' cy='90' r='1.5' fill='white'/%3E%3C/svg%3E"),
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='40' cy='30' r='1.5' fill='white'/%3E%3Ccircle cx='15' cy='70' r='2' fill='white'/%3E%3Ccircle cx='75' cy='15' r='1' fill='white'/%3E%3Ccircle cx='55' cy='85' r='2' fill='white'/%3E%3Ccircle cx='85' cy='55' r='1.5' fill='white'/%3E%3C/svg%3E");
  background-size:
    150px 150px,
    200px 200px;
  animation: snowfall 15s linear infinite;
  pointer-events: none;
  opacity: calc(0.6 * var(--season-intensity) * 2);
  z-index: 10;
}

@keyframes snowfall {
  0% {
    background-position:
      0 0,
      50px 25px;
  }
  100% {
    background-position:
      150px 450px,
      200px 500px;
  }
}

[data-season='winter'] .hero-title--large::after,
[data-season='winter'] .hero__title::after {
  content: ' ‚ùÑÔ∏è';
}

[data-season='winter'] .site-header {
  border-bottom-color: rgba(125, 211, 252, 0.3);
  background: linear-gradient(
    180deg,
    rgba(125, 211, 252, calc(0.05 * var(--season-intensity) * 2)) 0%,
    transparent 100%
  );
}

/* ===== Spring Theme üå∏ ===== */
[data-season='spring'] {
  --season-accent: #f9a8d4;
  --season-accent-rgb: 249, 168, 212;
  --season-glow: rgba(249, 168, 212, calc(0.3 * var(--season-intensity) * 2));
}

/* Sakura petals */
[data-season='spring'] .hero::before {
  content: 'üå∏';
  position: absolute;
  font-size: calc(1.5rem + 0.5rem * var(--season-intensity));
  top: 10%;
  left: 15%;
  animation: sakura-fall 12s ease-in-out infinite;
  pointer-events: none;
  opacity: calc(0.8 * var(--season-intensity) * 2);
  z-index: 10;
}

[data-season='spring'] .hero::after {
  content: 'üå∏';
  position: absolute;
  font-size: calc(1.2rem + 0.4rem * var(--season-intensity));
  top: 5%;
  left: 60%;
  animation: sakura-fall 16s ease-in-out infinite 4s;
  pointer-events: none;
  opacity: calc(0.7 * var(--season-intensity) * 2);
  z-index: 10;
}

@keyframes sakura-fall {
  0% {
    transform: rotate(0deg) translateX(0) translateY(0);
  }
  25% {
    transform: rotate(90deg) translateX(50px) translateY(25vh);
  }
  50% {
    transform: rotate(180deg) translateX(-30px) translateY(50vh);
  }
  75% {
    transform: rotate(270deg) translateX(60px) translateY(75vh);
  }
  100% {
    transform: rotate(360deg) translateX(20px) translateY(100vh);
  }
}

[data-season='spring'] .hero-title--large::after,
[data-season='spring'] .hero__title::after {
  content: ' üå∏';
}

[data-season='spring'] .site-header {
  border-bottom-color: rgba(249, 168, 212, 0.3);
  background: linear-gradient(
    180deg,
    rgba(249, 168, 212, calc(0.05 * var(--season-intensity) * 2)) 0%,
    transparent 100%
  );
}

/* ===== Summer Theme ‚òÄÔ∏è ===== */
[data-season='summer'] {
  --season-accent: #fbbf24;
  --season-accent-rgb: 251, 191, 36;
  --season-glow: rgba(251, 191, 36, calc(0.3 * var(--season-intensity) * 2));
}

/* Sun glow effect */
[data-season='summer'] .hero::before {
  content: '‚òÄÔ∏è';
  position: absolute;
  top: 8%;
  right: 12%;
  font-size: calc(2rem + 1rem * var(--season-intensity));
  animation: sun-pulse 4s ease-in-out infinite;
  pointer-events: none;
  filter: drop-shadow(0 0 calc(20px * var(--season-intensity)) rgba(251, 191, 36, 0.6));
  z-index: 10;
}

[data-season='summer'] .hero::after {
  content: '';
  position: absolute;
  top: 0;
  right: 0;
  width: 40%;
  height: 40%;
  background: radial-gradient(
    circle at 70% 20%,
    rgba(251, 191, 36, calc(0.15 * var(--season-intensity) * 2)) 0%,
    transparent 60%
  );
  pointer-events: none;
  z-index: 5;
}

@keyframes sun-pulse {
  0%,
  100% {
    transform: scale(1) rotate(0deg);
    filter: drop-shadow(0 0 calc(15px * var(--season-intensity)) rgba(251, 191, 36, 0.5));
  }
  50% {
    transform: scale(1.1) rotate(15deg);
    filter: drop-shadow(0 0 calc(25px * var(--season-intensity)) rgba(251, 191, 36, 0.8));
  }
}

[data-season='summer'] .hero-title--large::after,
[data-season='summer'] .hero__title::after {
  content: ' ‚òÄÔ∏è';
}

[data-season='summer'] .site-header {
  border-bottom-color: rgba(251, 191, 36, 0.3);
  background: linear-gradient(
    180deg,
    rgba(251, 191, 36, calc(0.05 * var(--season-intensity) * 2)) 0%,
    transparent 100%
  );
}

/* ===== Autumn Theme üçÇ ===== */
[data-season='autumn'] {
  --season-accent: #f97316;
  --season-accent-rgb: 249, 115, 22;
  --season-glow: rgba(249, 115, 22, calc(0.3 * var(--season-intensity) * 2));
}

/* Falling leaves */
[data-season='autumn'] .hero::before {
  content: 'üçÇ';
  position: absolute;
  font-size: calc(1.5rem + 0.5rem * var(--season-intensity));
  top: 5%;
  left: 70%;
  animation: leaf-fall 10s ease-in-out infinite;
  pointer-events: none;
  opacity: calc(0.9 * var(--season-intensity) * 2);
  z-index: 10;
}

[data-season='autumn'] .hero::after {
  content: 'üçÅ';
  position: absolute;
  font-size: calc(1.3rem + 0.4rem * var(--season-intensity));
  top: 10%;
  left: 25%;
  animation: leaf-fall 14s ease-in-out infinite 3s;
  pointer-events: none;
  opacity: calc(0.8 * var(--season-intensity) * 2);
  z-index: 10;
}

@keyframes leaf-fall {
  0% {
    transform: rotate(0deg) translateX(0) translateY(0);
  }
  20% {
    transform: rotate(72deg) translateX(-40px) translateY(20vh);
  }
  40% {
    transform: rotate(144deg) translateX(50px) translateY(40vh);
  }
  60% {
    transform: rotate(288deg) translateX(-30px) translateY(60vh);
  }
  80% {
    transform: rotate(504deg) translateX(40px) translateY(80vh);
  }
  100% {
    transform: rotate(720deg) translateX(0) translateY(100vh);
  }
}

[data-season='autumn'] .hero-title--large::after,
[data-season='autumn'] .hero__title::after {
  content: ' üçÇ';
}

[data-season='autumn'] .site-header {
  border-bottom-color: rgba(249, 115, 22, 0.3);
  background: linear-gradient(
    180deg,
    rgba(249, 115, 22, calc(0.05 * var(--season-intensity) * 2)) 0%,
    transparent 100%
  );
}

/* ===== Shared Seasonal Enhancements ===== */
[data-season] .btn.primary {
  box-shadow: 0 0 20px var(--season-glow);
}

[data-season] .btn.primary:hover {
  box-shadow: 0 0 30px var(--season-glow);
}

[data-season] .program-card:hover {
  border-color: rgba(var(--season-accent-rgb), 0.3);
}

[data-season] .blog__card:hover {
  border-color: rgba(var(--season-accent-rgb), 0.5);
}

/* Footer seasonal hint */
[data-season='winter'] .site-footer::before {
  content: '‚ùÑÔ∏è ';
}
[data-season='spring'] .site-footer::before {
  content: 'üå∏ ';
}
[data-season='summer'] .site-footer::before {
  content: '‚òÄÔ∏è ';
}
[data-season='autumn'] .site-footer::before {
  content: 'üçÇ ';
}

/* Reduce motion for accessibility */
@media (prefers-reduced-motion: reduce) {
  [data-season] .hero::before,
  [data-season] .hero::after {
    animation: none;
  }
}
